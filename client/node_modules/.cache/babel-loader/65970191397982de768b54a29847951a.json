{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/BookForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/BookForm.vue","mtime":1586122746000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEJvb2tJbmZvIGZyb20gJ0AvY29tcG9uZW50cy9Cb29rSW5mby52dWUnOwppbXBvcnQgeyBVUERBVEVfQ1VSUkVOVCB9IGZyb20gJ0Avc3RvcmUvbXV0YXRpb24tdHlwZXMnOyAvL2ltcG9ydCB7IFVQREFURV9DVVJSRU5ULCBVUERBVEVfQk9PSywgREVMRVRFX0JPT0sgfSBmcm9tICdAL3N0b3JlL211dGF0aW9uLXR5cGVzJwoKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1hcmtlZCBmcm9tICdtYXJrZWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Jvb2stZm9ybScsCiAgY29tcG9uZW50czogewogICAgQm9va0luZm86IEJvb2tJbmZvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9vazoge30sCiAgICAgIGZvcm06IHsKICAgICAgICBtZW1vOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG1lbW86IFsvL3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdJbnB1dCBtZW1vLicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50J10pLCB7CiAgICAvLy4uLm1hcEdldHRlcnMoIFsgJ2N1cnJlbnQnLCAnZ2V0Qm9va0J5SWQnIF0pLAogICAgbWVtb21hcms6IGZ1bmN0aW9uIG1lbW9tYXJrKCkgewogICAgICByZXR1cm4gbWFya2VkKHRoaXMuYm9vay5tZW1vKTsgLy9yZXR1cm4gbWFya2VkKHRoaXMuZm9ybS5tZW1vKQogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQoKICAgIHRoaXMuYm9vayA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY3VycmVudCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vbGV0IGIgPSB0aGlzLmdldEJvb2tCeUlkKHRoaXMuYm9vay5pZCkKICAgIC8vIGlmIChiKSB7CiAgICAvL3RoaXMuZm9ybS5yZWFkID0gYi5yZWFkCiAgICAvL3RoaXMuZm9ybS5tZW1vID0gdGhpcy5jdXJyZW50Lm1lbW8KICAgIC8vfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbVVBEQVRFX0NVUlJFTlRdKSwgewogICAgb25zdWJtaXQ6IGZ1bmN0aW9uIG9uc3VibWl0KCkgewogICAgICAvL3RoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgLy8gaWYgKHZhbGlkKSB7CgogICAgICAvKiB0aGlzW1VQREFURV9CT09LXSgKICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmJvb2ssIHRoaXMuZm9ybSkKICAgICAgICkqLwogICAgICAvL1VQREFURSBtZXRob2QKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICB1aWQ6IHRoaXMuYm9vay5pZCwKICAgICAgICB0aXRsZTogdGhpcy5ib29rLnRpdGxlLAogICAgICAgIGF1dGhvcjogdGhpcy5ib29rLmF1dGhvciwKICAgICAgICBwcmljZTogU3RyaW5nKHRoaXMuYm9vay5wcmljZSksCiAgICAgICAgcHVibGlzaGVyOiB0aGlzLmJvb2sucHVibGlzaGVyLAogICAgICAgIHB1Ymxpc2hlZDogdGhpcy5ib29rLnB1Ymxpc2hlZCwKICAgICAgICBpbWFnZTogdGhpcy5ib29rLmltYWdlLAogICAgICAgIGltYWdldHlwZTogdGhpcy5ib29rLmltYWdldHlwZSwKICAgICAgICB1cmw6IHRoaXMuYm9vay51cmwsCiAgICAgICAgbWVtbzogdGhpcy5ib29rLm1lbW8KICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2NyZWF0ZScsIHBhcmFtcyk7CiAgICAgIHRoaXNbVVBEQVRFX0NVUlJFTlRdKG51bGwpOwogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIHRpdGxlOiAnUmVhZGluZyBSZWNvcmRlcicsCiAgICAgICAgbWVzc2FnZTogdGhpcy4kY3JlYXRlRWxlbWVudCgncCcsIHsKICAgICAgICAgIHN0eWxlOiAnY29sb3I6ICMwMDknCiAgICAgICAgfSwgJ1N1Y2Nlc3MhJyksCiAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgfSk7IC8vdGhpcy5mb3JtLnJlYWQgPSBuZXcgRGF0ZSgpCiAgICAgIC8vdGhpcy5mb3JtLm1lbW8gPSAnJwoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsgLy99CiAgICAgIC8vfSkKICAgIH0sCiAgICBvbmRlbGV0ZTogZnVuY3Rpb24gb25kZWxldGUoKSB7CiAgICAgIC8vdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAvLyBpZiAodmFsaWQpIHsKCiAgICAgIC8qIHRoaXNbREVMRVRFX0JPT0tdKAogICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYm9vaywgdGhpcy5mb3JtKQogICAgICAgKSovCiAgICAgIC8vREVMRVRFIG1ldGhvZAogICAgICBheGlvcy5kZWxldGUoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9kZWxldGU/aWQ9JyArIHRoaXMuY3VycmVudC5pZCk7CiAgICAgIHRoaXNbVVBEQVRFX0NVUlJFTlRdKG51bGwpOwogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIHRpdGxlOiAnRGVsZXRlIERhdGEnLAogICAgICAgIG1lc3NhZ2U6IHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3AnLCB7CiAgICAgICAgICBzdHlsZTogJ2NvbG9yOiAjMDA5JwogICAgICAgIH0sICdTdWNjZXNzIScpLAogICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgIH0pOyAvL3RoaXMuZm9ybS5yZWFkID0gbmV3IERhdGUoKQogICAgICAvL3RoaXMuZm9ybS5tZW1vID0gJycKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7IC8vfQogICAgICAvL30pCiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["BookForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div id=\"form\">\n  <BookInfo :book=\"book\"></BookInfo>\n  <hr />\n  <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" >\n   <div>\n    <div v-html=\"memomark\" />\n   </div>\n   <el-form-item label=\"メモ\" prop=\"memo\">\n    <el-input type=\"textarea\" size=\"large\" v-model=\"book.memo\"></el-input>\n    <!--<el-input type=\"textarea\" size=\"large\" v-model=\"form.memo\"></el-input> -->\n   </el-form-item>\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onsubmit\">Register</el-button>\n    <el-button type=\"primary\" @click=\"ondelete\">Delete</el-button>\n   </el-form-item>\n  </el-form>\n </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions } from 'vuex'\nimport BookInfo from '@/components/BookInfo.vue'\nimport { UPDATE_CURRENT } from '@/store/mutation-types'\n//import { UPDATE_CURRENT, UPDATE_BOOK, DELETE_BOOK } from '@/store/mutation-types'\n\nimport axios from \"axios\";\nimport marked from 'marked'\n\nexport default {\n name: 'book-form',\n components: {\n  BookInfo\n },\n data() {\n  return {\n   book: {},\n   form: {\n    memo: ''\n   },\n   rules: {\n    memo: [\n     //{ required: true, message: 'Input memo.', trigger: 'blur' }\n    ]\n   }\n  }\n },\n computed: {\n  ...mapGetters( [ 'current' ]),\n  //...mapGetters( [ 'current', 'getBookById' ]),\n  memomark: function(){\n   return marked(this.book.memo)\n   //return marked(this.form.memo)\n  }\n },\n created() {\n  if (!this.current) {\n   this.$router.push('/')\n  }\n  this.book = Object.assign({}, this.current)\n },\n mounted() {\n  //let b = this.getBookById(this.book.id)\n // if (b) {\n   //this.form.read = b.read\n   //this.form.memo = this.current.memo\n  //}\n },\n methods: {\n // ...mapActions([UPDATE_BOOK, UPDATE_CURRENT, DELETE_BOOK]),\n  ...mapActions([ UPDATE_CURRENT]),\n  onsubmit() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n    /* this[UPDATE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )*/\n\n     //UPDATE method\n      const params = {\n       uid: this.book.id,\n       title: this.book.title,\n       author: this.book.author,\n       price: String(this.book.price),\n       publisher: this.book.publisher,\n       published: this.book.published,\n       image: this.book.image,\n       imagetype: this.book.imagetype,\n       url: this.book.url,\n       memo: this.book.memo\n      }\n     axios.post('http://localhost:8888/create', params )\n\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Reading Recorder',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     //this.form.read = new Date()\n     //this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  },\n  ondelete() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n    /* this[DELETE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )*/\n\n     //DELETE method\n     axios.delete('http://localhost:8888/delete?id='+this.current.id)\n\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Delete Data',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     //this.form.read = new Date()\n     //this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  }\n }\n\n}\n</script>\n\n<style scoped>\n#form {\n margin-top: 15px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}