{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/BookForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/BookForm.vue","mtime":1585160015000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEJvb2tJbmZvIGZyb20gJ0AvY29tcG9uZW50cy9Cb29rSW5mby52dWUnOwppbXBvcnQgeyBVUERBVEVfQ1VSUkVOVCwgVVBEQVRFX0JPT0ssIERFTEVURV9CT09LIH0gZnJvbSAnQC9zdG9yZS9tdXRhdGlvbi10eXBlcyc7CmltcG9ydCBtYXJrZWQgZnJvbSAnbWFya2VkJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdib29rLWZvcm0nLAogIGNvbXBvbmVudHM6IHsKICAgIEJvb2tJbmZvOiBCb29rSW5mbwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IHt9LAogICAgICBmb3JtOiB7CiAgICAgICAgcmVhZDogbmV3IERhdGUoKSwKICAgICAgICBtZW1vOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG1lbW86IFsvL3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdJbnB1dCBtZW1vLicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50JywgJ2dldEJvb2tCeUlkJ10pLCB7CiAgICBtZW1vbWFyazogZnVuY3Rpb24gbWVtb21hcmsoKSB7CiAgICAgIHJldHVybiBtYXJrZWQodGhpcy5mb3JtLm1lbW8pOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQoKICAgIHRoaXMuYm9vayA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY3VycmVudCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGIgPSB0aGlzLmdldEJvb2tCeUlkKHRoaXMuYm9vay5pZCk7CgogICAgaWYgKGIpIHsKICAgICAgdGhpcy5mb3JtLnJlYWQgPSBiLnJlYWQ7CiAgICAgIHRoaXMuZm9ybS5tZW1vID0gYi5tZW1vOwogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbVVBEQVRFX0JPT0ssIFVQREFURV9DVVJSRU5ULCBERUxFVEVfQk9PS10pLCB7CiAgICBvbnN1Ym1pdDogZnVuY3Rpb24gb25zdWJtaXQoKSB7CiAgICAgIC8vdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAvLyBpZiAodmFsaWQpIHsKICAgICAgdGhpc1tVUERBVEVfQk9PS10oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5ib29rLCB0aGlzLmZvcm0pKTsKICAgICAgdGhpc1tVUERBVEVfQ1VSUkVOVF0obnVsbCk7CiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6ICdSZWFkaW5nIFJlY29yZGVyJywKICAgICAgICBtZXNzYWdlOiB0aGlzLiRjcmVhdGVFbGVtZW50KCdwJywgewogICAgICAgICAgc3R5bGU6ICdjb2xvcjogIzAwOScKICAgICAgICB9LCAnU3VjY2VzcyEnKSwKICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICB9KTsKICAgICAgdGhpcy5mb3JtLnJlYWQgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLmZvcm0ubWVtbyA9ICcnOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOyAvL30KICAgICAgLy99KQogICAgfSwKICAgIG9uZGVsZXRlOiBmdW5jdGlvbiBvbmRlbGV0ZSgpIHsKICAgICAgLy90aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgIC8vIGlmICh2YWxpZCkgewogICAgICB0aGlzW0RFTEVURV9CT09LXShPYmplY3QuYXNzaWduKHt9LCB0aGlzLmJvb2ssIHRoaXMuZm9ybSkpOwogICAgICB0aGlzW1VQREFURV9DVVJSRU5UXShudWxsKTsKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogJ0RlbGV0ZSBEYXRhJywKICAgICAgICBtZXNzYWdlOiB0aGlzLiRjcmVhdGVFbGVtZW50KCdwJywgewogICAgICAgICAgc3R5bGU6ICdjb2xvcjogIzAwOScKICAgICAgICB9LCAnU3VjY2VzcyEnKSwKICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICB9KTsKICAgICAgdGhpcy5mb3JtLnJlYWQgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLmZvcm0ubWVtbyA9ICcnOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOyAvL30KICAgICAgLy99KQogICAgfQogIH0pCn07"},{"version":3,"sources":["BookForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AACA,SAAA,cAAA,EAAA,WAAA,EAAA,WAAA,QAAA,wBAAA;AAEA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,IAAA,IAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAFA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CACA;AADA;AADA;AANA,KAAA;AAYA,GAlBA;AAmBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,SAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,QAAA,EAAA,oBAAA;AACA,aAAA,MAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA;AACA;AAJA,IAnBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,QAAA,CAAA,KAAA,OAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,SAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,OAAA,CAAA;AACA,GA9BA;AA+BA,EAAA,OA/BA,qBA+BA;AACA,QAAA,CAAA,GAAA,KAAA,WAAA,CAAA,KAAA,IAAA,CAAA,EAAA,CAAA;;AACA,QAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA;AACA;AACA,GArCA;AAsCA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,cAAA,EAAA,WAAA,CAAA,CADA;AAEA,IAAA,QAFA,sBAEA;AACA;AACA;AACA,WAAA,WAAA,EACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,IAAA,EAAA,KAAA,IAAA,CADA;AAGA,WAAA,cAAA,EAAA,IAAA;AACA,WAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,kBADA;AAEA,QAAA,OAAA,EAAA,KAAA,cAAA,CAAA,GAAA,EAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA,EACA,UADA,CAFA;AAIA,QAAA,QAAA,EAAA;AAJA,OAAA;AAMA,WAAA,IAAA,CAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAfA,CAgBA;AACA;AACA,KApBA;AAqBA,IAAA,QArBA,sBAqBA;AACA;AACA;AACA,WAAA,WAAA,EACA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,IAAA,EAAA,KAAA,IAAA,CADA;AAGA,WAAA,cAAA,EAAA,IAAA;AACA,WAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,aADA;AAEA,QAAA,OAAA,EAAA,KAAA,cAAA,CAAA,GAAA,EAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA,EACA,UADA,CAFA;AAIA,QAAA,QAAA,EAAA;AAJA,OAAA;AAMA,WAAA,IAAA,CAAA,IAAA,GAAA,IAAA,IAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAfA,CAgBA;AACA;AACA;AAvCA;AAtCA,CAAA","sourcesContent":["<template>\n <div id=\"form\">\n  <BookInfo :book=\"book\"></BookInfo>\n  <hr />\n  <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" >\n   <el-form-item label=\"開始日\">\n    <el-date-picker type=\"date\" v-model=\"form.read\"></el-date-picker>\n   </el-form-item>\n   <div>\n    <div v-html=\"memomark\" />\n   </div>\n   <el-form-item label=\"メモ\" prop=\"memo\">\n    <el-input type=\"textarea\" size=\"large\" v-model=\"form.memo\"></el-input>\n   </el-form-item>\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onsubmit\">Register</el-button>\n    <el-button type=\"primary\" @click=\"ondelete\">Delete</el-button>\n   </el-form-item>\n  </el-form>\n </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions } from 'vuex'\nimport BookInfo from '@/components/BookInfo.vue'\nimport { UPDATE_CURRENT, UPDATE_BOOK, DELETE_BOOK } from '@/store/mutation-types'\n\nimport marked from 'marked'\n\nexport default {\n name: 'book-form',\n components: {\n  BookInfo\n },\n data() {\n  return {\n   book: {},\n   form: {\n    read: new Date(),\n    memo: ''\n   },\n   rules: {\n    memo: [\n     //{ required: true, message: 'Input memo.', trigger: 'blur' }\n    ]\n   }\n  }\n },\n computed: {\n  ...mapGetters( [ 'current', 'getBookById' ]),\n  memomark: function(){\n   return marked(this.form.memo)\n  }\n },\n created() {\n  if (!this.current) {\n   this.$router.push('/')\n  }\n  this.book = Object.assign({}, this.current)\n },\n mounted() {\n  let b = this.getBookById(this.book.id)\n  if (b) {\n   this.form.read = b.read\n   this.form.memo = b.memo\n  }\n },\n methods: {\n  ...mapActions([UPDATE_BOOK, UPDATE_CURRENT, DELETE_BOOK]),\n  onsubmit() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n     this[UPDATE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Reading Recorder',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     this.form.read = new Date()\n     this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  },\n  ondelete() {\n   //this.$refs['form'].validate((valid) => {\n   // if (valid) {\n     this[DELETE_BOOK](\n      Object.assign({}, this.book, this.form)\n     )\n     this[UPDATE_CURRENT](null)\n     this.$notify({\n      title: 'Delete Data',\n      message: this.$createElement('p', {style: 'color: #009'},\n       'Success!'),\n       duration: 2000\n     })\n     this.form.read = new Date()\n     this.form.memo = ''\n     this.$router.push('/')\n    //}\n   //})\n  }\n }\n\n}\n</script>\n\n<style scoped>\n#form {\n margin-top: 15px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}