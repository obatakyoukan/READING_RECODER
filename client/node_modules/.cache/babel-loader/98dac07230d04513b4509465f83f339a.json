{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/BookMake2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/BookMake2.vue","mtime":1586246888000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBCb29rSW5mbyBmcm9tICdAL2NvbXBvbmVudHMvQm9va0luZm8udnVlJwovLyBpbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKLy8gaW1wb3J0IHsgVVBEQVRFX0NVUlJFTlQgfSBmcm9tICdAL3N0b3JlL211dGF0aW9uLXR5cGVzJwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgbWFya2VkIGZyb20gIm1hcmtlZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYm9vay1tYWtlJywKICBjb21wb25lbnRzOiB7Ly8gIEJvb2tJbmZvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICcnLAogICAgICBwcmljZTogJycsCiAgICAgIHdyaXRlcjogJycsCiAgICAgIHB1Ymxpc2hlcjogJycsCiAgICAgIHB1Ymxpc2hlZDogJycsCiAgICAgIHVybDogJycsCiAgICAgIGltYWdldHlwZTogJ3BkZicsCiAgICAgIG1lbW86ICcnLAogICAgICBmaWxlTGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbWVtb21hcms6IGZ1bmN0aW9uIG1lbW9tYXJrKCkgewogICAgICByZXR1cm4gbWFya2VkKHRoaXMubWVtbyk7IC8vcmV0dXJuIG1hcmtlZCh0aGlzLmZvcm0ubWVtbykKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOODquOCueODiOOBruODkOODg+ODhuODs+OCkuaKvOS4i+OBl+OBn+aZggogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0OwogICAgfSwKICAgIC8vIOODleOCoeOCpOODq+OCkui/veWKoOOBl+OBn+aZggogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoZmlsZSkgewogICAgICAvL3RoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdAogICAgICAvL+ODleOCoeOCpOODq+OCku+8keOBpOOBruOBv+OBq+OBmeOCiwogICAgICB0aGlzLmZpbGVMaXN0ID0gW2ZpbGVdOwogICAgfSwKICAgIC8vLi4ubWFwQWN0aW9ucyggWyBVUERBVEVfQ1VSUkVOVF0gKSwKICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7CiAgICAgIC8qbGV0IGJvb2sgPSB7CiAgICAgICBpZDogdGhpcy51cmwsCiAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgIGF1dGhvcjogdGhpcy5hdXRob3IsCiAgICAgICBwcmljZSA6IHRoaXMucHJpY2UgPyB0aGlzLnByaWNlIDogJy0nLAogICAgICAgcHVibGlzaGVyOiB0aGlzLnB1Ymxpc2hlciwKICAgICAgIHB1Ymxpc2hlZDogdGhpcy5wdWJsaXNoZWQsCiAgICAgICBpbWFnZTogdGhpcy51cmwsCiAgICAgICBpbWFnZXR5cGU6IHRoaXMuaW1hZ2V0eXBlLAogICAgICAgdXJsOiB0aGlzLnVybCwKICAgICAgIG1lbW86IHRoaXMubWVtbwogICAgICB9Ki8KICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgdmFyIGZpbGVuYW1lID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTgpICsgJy4nICsgdGhpcy5pbWFnZXR5cGU7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy5maWxlTGlzdFswXS5yYXcpOwogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg4OC9pbWFnZXM/ZmlsZW5hbWU9JyArIGZpbGVuYW1lLCBmb3JtRGF0YSk7CiAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICAgIHRoaXMuaW1hZ2UgPSAnaHR0cDovL2xvY2FsaG9zdDo4ODg4LycgKyBmaWxlbmFtZTsgLy8gICAgfQoKICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgLy8gICB1aWQ6ICJhYWEiLAogICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLAogICAgICAgICAgcHJpY2U6IFN0cmluZyh0aGlzLnByaWNlKSwKICAgICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsCiAgICAgICAgICBwdWJsaXNoZWQ6IHRoaXMucHVibGlzaGVkLAogICAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsCiAgICAgICAgICBpbWFnZXR5cGU6IHRoaXMuaW1hZ2V0eXBlLAogICAgICAgICAgdXJsOiB0aGlzLnVybCA/IHRoaXMudXJsIDogdGhpcy5pbWFnZSwKICAgICAgICAgIG1lbW86IHRoaXMubWVtbwogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4ODg4L2NyZWF0ZV9ub2lkJywgcGFyYW1zKTsgLy9heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0Ojg4ODgvY3JlYXRlX25vaWQ/dGl0bGU9Jyt0aGlzLnRpdGxlKycmYXV0aG9yPScrdGhpcy5hdXRob3IrJyZwcmljZT0nK3RoaXMucHJpY2UrJyZwdWJsaXNoZXI9Jyt0aGlzLnB1Ymxpc2hlcisnJnB1Ymxpc2hlZD0nK3RoaXMucHVibGlzaGVkKycmaW1hZ2V0eXBlPScrdGhpcy5pbWFnZXR5cGUrJyZ1cmw9Jyt0aGlzLnVybCsnJm1lbW89Jyt0aGlzLm1lbW8gKycmaW1hZ2U9JysgdGhpcy51cmwgKQogICAgICAgIC8vdGhpc1sgVVBEQVRFX0NVUlJFTlRdKGJvb2spCgogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["BookMake2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AAEA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA,CACA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,GAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA,KAPA;AAQA,MAAA,IAAA,EAAA,EARA;AASA,MAAA,QAAA,EAAA;AATA,KAAA;AAYA,GAlBA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,aAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CADA,CAEA;AACA;AAJA,GAnBA;AAyBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,YAAA,EAAA,sBAAA,IAAA,EAAA,QAAA,EAAA;AACA,WAAA,QAAA,GAAA,QAAA;AACA,KAJA;AAKA;AACA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA;AACA;AACA;AACA,WAAA,QAAA,GAAA,CAAA,IAAA,CAAA;AACA,KAVA;AAaA;AAEA,IAAA,OAfA,qBAeA;AACA;;;;;;;;;;;;AAYA,UAAA,KAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,YAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,YAAA,QAAA,GAAA,IAAA,CAAA,MAAA,GAAA,QAAA,CAAA,EAAA,EAAA,KAAA,CAAA,CAAA,CAAA,IAAA,GAAA,GAAA,KAAA,SAAA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,QAAA,CAAA,CAAA,EAAA,GAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,2CAAA,QAAA,EAAA,QAAA;AACA,aAAA,QAAA,GAAA,EAAA;AACA,aAAA,KAAA,GAAA,2BAAA,QAAA,CANA,CAQA;;AACA,YAAA,MAAA,GAAA;AACA;AACA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,MAAA,EAAA,KAAA,MAHA;AAIA,UAAA,KAAA,EAAA,MAAA,CAAA,KAAA,KAAA,CAJA;AAKA,UAAA,SAAA,EAAA,KAAA,SALA;AAMA,UAAA,SAAA,EAAA,KAAA,SANA;AAOA,UAAA,KAAA,EAAA,KAAA,KAPA;AAQA,UAAA,SAAA,EAAA,KAAA,SARA;AASA,UAAA,GAAA,EAAA,KAAA,GAAA,GAAA,KAAA,GAAA,GAAA,KAAA,KATA;AAUA,UAAA,IAAA,EAAA,KAAA;AAVA,SAAA;AAYA,QAAA,KAAA,CAAA,IAAA,CAAA,mCAAA,EAAA,MAAA,EArBA,CAsBA;AACA;;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AAEA;AAvDA;AAzBA,CAAA","sourcesContent":["<template>\n <div id=\"make\">\n  <div>\n  <el-form :inline=\"true\">\n   <el-form-item label=\"Title\">\n    <el-input type=\"text\" size=\"large\" v-model=\"title\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Price\">\n    <el-input type=\"text\" size=\"large\" v-model=\"price\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Writer\">\n    <el-input type=\"text\" size=\"large\" v-model=\"writer\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Publisher\">\n    <el-input type=\"text\" size=\"large\" v-model=\"publisher\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Published\">\n    <el-input type=\"text\" size=\"large\" v-model=\"published\"></el-input>\n   </el-form-item>\n\n   <el-form-item label=\"Url\">\n    <el-input type=\"text\" size=\"large\" v-model=\"url\"></el-input>\n   </el-form-item>\n \n   \n   <el-form-item label=\"Memo\" >\n    <el-input type=\"textarea\" size=\"large\" v-model=\"memo\"></el-input>\n   </el-form-item>\n   \n   <el-upload class=\"upload-demo\" action=\"\" \n      :on-change=\"handleAdd\"\n      :on-remove=\"handleRemove\" :file-list=\"fileList\" \n      list-type=\"picture\" :auto-upload=\"false\">\n      <el-button size=\"mini\" type=\"primary\">Click to upload</el-button>\n \n <!--<div slot=\"tip\" class=\"el-upload__tip\">jpg/png files with a size less than 500kb</div>\n    -->\n    </el-upload>  \n    <!--\n    <el-button type=\"primary\" v-on:click=\"handleSubmit\" >Upload<i class=\"el-icon-upload el-icon-right\"></i></el-button>\n    -->\n\n\n   <el-form-item>\n    <el-button type=\"primary\" @click=\"onclick\">Register</el-button>\n   </el-form-item>\n  \n  </el-form>\n   </div>\n\n    <div v-html=\"memomark\" />\n <div>\n\n<!--   {{ title }}\n   {{ price }} \n   {{ writer }}\n   {{ publisher }}\n   {{ published }}\n   {{ url }}\n   -->\n  </div>\n\n </div>\n</template>\n\n<script>\n// import BookInfo from '@/components/BookInfo.vue'\n// import { mapActions } from 'vuex'\n// import { UPDATE_CURRENT } from '@/store/mutation-types'\n \nimport axios from \"axios\";\nimport marked from \"marked\";\n\n export default {\n  name: 'book-make',\n  components: {\n //  BookInfo\n  },\n  data() {\n   return {\n    title: '',\n    price: '',\n    writer: '',\n    publisher: '',\n    published: '',\n    url: '',\n    imagetype: 'pdf',\n    memo: '',\n    fileList: [],\n\n   }\n  },\n  computed: {\n  memomark: function(){\n   return marked(this.memo)\n   //return marked(this.form.memo)\n  }\n  },\n  methods: {\n    // リストのバッテンを押下した時\n    handleRemove: function (file, fileList) {\n      this.fileList = fileList\n    },\n    // ファイルを追加した時\n    handleAdd: function (file) {\n      //this.fileList = fileList\n      //ファイルを１つのみにする\n      this.fileList = [ file ]\n    },\n\n\n   //...mapActions( [ UPDATE_CURRENT] ),\n   \n   onclick() {\n    /*let book = {\n     id: this.url,\n     title: this.title,\n     author: this.author,\n     price : this.price ? this.price : '-',\n     publisher: this.publisher,\n     published: this.published,\n     image: this.url,\n     imagetype: this.imagetype,\n     url: this.url,\n     memo: this.memo\n    }*/\n      if( this.fileList.length === 1 ){\n       let formData = new FormData()\n       let filename = Math.random().toString(36).slice(-8) + '.'+this.imagetype\n       formData.append('file', this.fileList[0].raw)\n       axios.post('http://localhost:8888/images?filename='+filename , formData )\n       this.fileList = []\n       this.image = 'http://localhost:8888/'+ filename\n\n  //    }\n      const params = {\n    //   uid: \"aaa\",\n       title: this.title,\n       author: this.author,\n       price: String(this.price),\n       publisher: this.publisher,\n       published: this.published,\n       image: this.image,\n       imagetype: this.imagetype,\n       url: this.url ? this.url : this.image,\n       memo: this.memo\n      }\n      axios.post('http://localhost:8888/create_noid', params )\n    //axios.post('http://localhost:8888/create_noid?title='+this.title+'&author='+this.author+'&price='+this.price+'&publisher='+this.publisher+'&published='+this.published+'&imagetype='+this.imagetype+'&url='+this.url+'&memo='+this.memo +'&image='+ this.url )\n    //this[ UPDATE_CURRENT](book)\n    this.$router.push('/')\n   }\n\n  }\n\n\n  }\n }\n\n</script>\n\n\n<style scoped>\n #make form {\n  margin-top: 15px;\n }\n</style>\n"],"sourceRoot":"src/components"}]}